define("modules/page/app",["../../lib/app","../../lib/vendor/bootstrap/js/bootstrap","../../lib/vendor/uniform/jquery.uniform","../../lib/vendor/jquery-cookie/jquery-cookie","../../lib/vendor/jquery-json/2.4/jquery-json","../../lib/vendor/moment/moment","../../lib/com/form","../../lib/com/alert","../../lib/com/dialog","../../lib/tpl/dialog.tpl","../../lib/com/select","../../lib/com/checkboxes","../../lib/tool/tool","../../lib/tool/url","../../lib/tool/str","../../lib/core/tpl","../../lib/core/layout","../../conf/locale.zh_CN","../../conf/locale.en_US","../../lib/service","../../lib/core/ajax","../../conf/api","../../conf/route"],function(require,exports,module){var app=require("../../lib/app");app.page.login=function(){var color={rgb2hsv:function(R,G,B){var max=Math.max.apply(null,[R,G,B]);var min=Math.min.apply(null,[R,G,B]);var hsv={};var x=max-min;if(R===G&&G===B){hsv.H=0;hsv.S=0}else{switch(max){case R:hsv.H=(G-B)/x;break;case G:hsv.H=2+(B-R)/x;break;case B:hsv.H=4+(R-G)/x;break}hsv.H*=60;if(hsv.H<0){hsv.H+=360}hsv.H=Math.round(hsv.H);hsv.S=Math.round(100*(max-min)/max)}hsv.V=Math.round(100*max/255);return hsv},hsv2rgb:function(H,S,V){S=S>1?1:S;S=S<0?0:S;V=V>1?1:V;V=V<0?0:V;var rgb={};if(S===0){rgb.R=rgb.G=rgb.B=Math.round(255*V)}else{var hi=Math.floor(H/60)%6;var f=H/60-hi;var p=Math.round(V*(1-S)*255);var q=Math.round(V*(1-f*S)*255);var t=Math.round(V*(1-(1-f)*S)*255);V=Math.round(V*255);switch(hi){case 0:rgb.R=V;rgb.G=t;rgb.B=p;break;case 1:rgb.R=q;rgb.G=V;rgb.B=p;break;case 2:rgb.R=p;rgb.G=V;rgb.B=t;break;case 3:rgb.R=p;rgb.G=q;rgb.B=V;break;case 4:rgb.R=t;rgb.G=p;rgb.B=V;break;case 5:rgb.R=V;rgb.G=p;rgb.B=q;break}}return rgb}};function createColorPanel(rbg_color){var bc_rgb={R:to10(rbg_color.substr(0,2)),G:to10(rbg_color.substr(2,2)),B:to10(rbg_color.substr(4,2))};var bc_hsv=color.rgb2hsv(bc_rgb.R,bc_rgb.G,bc_rgb.B);var h=bc_hsv.H;var s=bc_hsv.S/100;var v=bc_hsv.V/100;var colors=[];var colors_name=["@H050","@H100","@H200","@H300","@H400","@H500","@H600","@H700","@H800","@H900"];var k_s=[-.8,-.5,-.3,-.2,-.1,0,.1,.2,.3,.5];var k_v=[.5,.4,.3,.2,.1,0,-.1,-.2,-.3,-.4];for(var i=0,len=k_s.length,_s,_v;i<len;i++){if(i===5){colors.push({R:bc_rgb.R,G:bc_rgb.G,B:bc_rgb.B});continue}_s=k_s[i];if(bc_rgb.R===bc_rgb.G&&bc_rgb.R===bc_rgb.B){_s=0}_v=k_v[i];colors.push(color.hsv2rgb(h,s+_s,v+_v))}var panel_index=(new Date).getTime();$("#panel_color_wrap").append("<ul id='cl_"+panel_index+"' class='panel_color'></ul>");i=0;var k=setInterval(function(){if(i===colors.length){clearInterval(k);return}var rgb=to16(colors[i].R)+to16(colors[i].G)+to16(colors[i].B);var font_color=i>=5?"color:#fff":"color:#555";var item=$("<li style='display:none;background:#"+rgb+";"+font_color+"'>"+colors_name[i]+":#"+rgb+";</li>");$("#cl_"+panel_index).append(item);item.slideDown();i++},100)}function to16(n){var n16=n.toString(16);if(n16.length===1){n16="0"+n16}return n16}function to10(n){var n10=parseInt("0x"+n);return n10}createColorPanel("1b9451");setTimeout(function(){createColorPanel("29a7e1")},200);setTimeout(function(){createColorPanel("9c27b0")},500);$("#btn_add_color").click(function(){var color=$("#txt_color").val();if(color.indexOf("#")>-1){color=color.substr(1)}if(color.length!==6){view.showMessage("格式错误","error");return}createColorPanel(color)});var handleColorPicker=function(){if(!jQuery().colorpicker){return}$(".colorpicker-default").colorpicker({format:"hex"});$(".colorpicker-rgba").colorpicker()};handleColorPicker()};module.exports=app});define("lib/app",["lib/vendor/bootstrap/js/bootstrap","lib/vendor/uniform/jquery.uniform","lib/vendor/jquery-cookie/jquery-cookie","lib/vendor/jquery-json/2.4/jquery-json","lib/vendor/moment/moment","lib/com/form","lib/com/alert","lib/com/dialog","lib/com/select","lib/com/checkboxes","lib/tool/tool","lib/tool/url","lib/tool/str","lib/core/tpl","lib/core/layout","conf/locale.zh_CN","conf/locale.en_US","lib/service","lib/core/ajax","conf/api","conf/route"],function(require,exports,module){require("lib/vendor/bootstrap/js/bootstrap");require("lib/vendor/uniform/jquery.uniform");require("lib/vendor/jquery-cookie/jquery-cookie");require("lib/vendor/jquery-json/2.4/jquery-json");require("lib/vendor/moment/moment");require("lib/com/form");require("lib/com/alert");require("lib/com/dialog");require("lib/com/select");require("lib/com/checkboxes");require("lib/tool/tool");require("lib/tool/url");require("lib/tool/str");require("lib/core/tpl");var layout=require("lib/core/layout");var locale={zh_CN:require("conf/locale.zh_CN"),en_US:require("conf/locale.en_US")};pagurian.locale=locale[pagurian.language];pagurian.lib={service:require("lib/service"),api:require("conf/api"),route:require("conf/route")};pagurian.log=function(){if(!window.console||!pagurian.debug){return}if(arguments.length===1){console.log(arguments[0])}if(arguments.length===2){console[arguments[1]](arguments[0])}};function compatible(){pagurian.com={alert:pagurian.alert,dialog:pagurian.dialog,checkboxs:pagurian.checkboxs,form:pagurian.form,portlet:pagurian.portlet,select:pagurian.select};pagurian.plugin={dataListView:pagurian.dataListView,sizer:pagurian.sizer,summary:pagurian.summary,dataTable:pagurian.dataTable,datePicker:pagurian.datePicker,dateRangePicker:pagurian.datePicker,dateTimePicker:pagurian.datePicker,echarts:pagurian.datePicker,slider:pagurian.slider}}var app={page:{},events:{},updateUniform:function(){layout.updateUniform()},activateCurrentMenu:function(){layout.activateCurrentMenu()},init:function(){compatible();layout.init();layout.custom();layout.activateCurrentMenu();layout.resize(function(){if(app.events.resize&&"function"===typeof app.events.resize){app.events.resize()}})}};app.init();module.exports=app});define("lib/vendor/bootstrap/js/bootstrap",[],function(require,exports,module){if("undefined"==typeof jQuery)throw new Error("Bootstrap requires jQuery");+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]}}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(jQuery),+function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){f.trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d)};b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.is("input")?"val":"html",e=c.data();a+="Text",e.resetText||c.data("resetText",c[d]()),c[d](e[a]||this.options[a]),setTimeout(function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons"]'),b=!0;if(a.length){var c=this.$element.find("input");"radio"===c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?b=!1:a.find(".active").removeClass("active")),b&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}b&&this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.bs.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle"),b.preventDefault()})}(jQuery),+function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){return this.sliding?void 0:this.slide("next")},b.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}this.sliding=!0,f&&this.pause();var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});if(!e.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(j),j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(j),j.isDefaultPrevented())return;d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")}return f&&this.cycle(),this}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d=a(this),e=a(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),d.data()),g=d.attr("data-slide-to");g&&(f.interval=!1),e.carousel(f),(g=d.attr("data-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?(this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350),void 0):d.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":d.data(),i=d.attr("data-parent"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(d).addClass("collapsed"),d[f.hasClass("in")?"addClass":"removeClass"]("collapsed")),f.collapse(h)})}(jQuery),+function(a){"use strict";function b(){a(d).remove(),a(e).each(function(b){var d=c(a(this));d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown")),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown"))})}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}var d=".dropdown-backdrop",e="[data-toggle=dropdown]",f=function(b){a(b).on("click.bs.dropdown",this.toggle)};f.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){if("ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b),f.trigger(d=a.Event("show.bs.dropdown")),d.isDefaultPrevented())return;f.toggleClass("open").trigger("shown.bs.dropdown"),e.focus()}return!1}},f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var f=c(d),g=f.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&f.find(e).focus(),d.click();var h=a("[role=menu] li:not(.divider):visible a",f);if(h.length){var i=h.index(h.filter(":focus"));38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<h.length-1&&i++,~i||(i=0),h.eq(i).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new f(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=f,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",e,f.prototype.toggle).on("keydown.bs.dropdown.data-api",e+", [role=menu]",f.prototype.keydown)}(jQuery),+function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show(),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f,this).one("hide",function(){c.is(":visible")&&c.focus()})}),a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(jQuery),+function(a){"use strict";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focus",i="hover"==g?"mouseleave":"blur";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show),void 0):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide),void 0):c.hide()},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(b),b.isDefaultPrevented())return;var c=this.tip();this.setContent(),this.options.animation&&c.addClass("fade");var d="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,f=e.test(d);f&&(d=d.replace(e,"")||"top"),c.detach().css({top:0,left:0,display:"block"}).addClass(d),this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);var g=this.getPosition(),h=c[0].offsetWidth,i=c[0].offsetHeight;if(f){var j=this.$element.parent(),k=d,l=document.documentElement.scrollTop||document.body.scrollTop,m="body"==this.options.container?window.innerWidth:j.outerWidth(),n="body"==this.options.container?window.innerHeight:j.outerHeight(),o="body"==this.options.container?0:j.offset().left;d="bottom"==d&&g.top+g.height+i-l>n?"top":"top"==d&&g.top-l-i<0?"bottom":"right"==d&&g.right+h>m?"left":"left"==d&&g.left-h<o?"right":d,c.removeClass(k).addClass(d)}var p=this.getCalculatedOffset(d,g,h,i);this.applyPlacement(p,d),this.$element.trigger("shown.bs."+this.type)}},b.prototype.applyPlacement=function(a,b){var c,d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),a.top=a.top+g,a.left=a.left+h,d.offset(a).addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;if("top"==b&&j!=f&&(c=!0,a.top=a.top+f-j),/bottom|top/.test(b)){var k=0;a.left<0&&(k=-2*a.left,a.left=0,d.offset(a),i=d[0].offsetWidth,j=d[0].offsetHeight),this.replaceArrow(k-e+i,i,"left")}else this.replaceArrow(j-f,j,"top");c&&d.offset(a)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach()}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.$element.trigger("hidden.bs."+this.type),this)},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(jQuery),+function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(jQuery),+function(a){"use strict";function b(c,d){var e,f=a.proxy(this.process,this);this.$element=a(c).is("body")?a(window):a(c),this.$body=a("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||(e=a(c).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=a([]),this.targets=a([]),this.activeTarget=null,this.refresh(),this.process()}b.DEFAULTS={offset:10},b.prototype.refresh=function(){var b=this.$element[0]==window?"offset":"position";this.offsets=a([]),this.targets=a([]);var c=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#\w/.test(e)&&a(e);return f&&f.length&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parents(".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(jQuery),+function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},b.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),f.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(jQuery),+function(a){"use strict";var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=null,this.checkPosition()
};b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top()),"function"==typeof h&&(h=f.bottom());var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=c-h?"bottom":null!=g&&g>=d?"top":!1;this.affixed!==i&&(this.unpin&&this.$element.css("top",""),this.affixed=i,this.unpin="bottom"==i?e.top-d:null,this.$element.removeClass(b.RESET).addClass("affix"+(i?"-"+i:"")),"bottom"==i&&this.$element.offset({top:document.body.offsetHeight-h-this.$element.height()}))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(jQuery)});define("lib/vendor/uniform/jquery.uniform",[],function(require,exports,module){!function($,undef){"use strict";function attrOrProp($el){var args=Array.prototype.slice.call(arguments,1);if($el.prop){return $el.prop.apply($el,args)}return $el.attr.apply($el,args)}function bindMany($el,options,events){var name,namespaced;for(name in events){if(events.hasOwnProperty(name)){namespaced=name.replace(/ |$/g,options.eventNamespace);$el.bind(namespaced,events[name])}}}function bindUi($el,$target,options){bindMany($el,options,{focus:function(){$target.addClass(options.focusClass)},blur:function(){$target.removeClass(options.focusClass);$target.removeClass(options.activeClass)},mouseenter:function(){$target.addClass(options.hoverClass)},mouseleave:function(){$target.removeClass(options.hoverClass);$target.removeClass(options.activeClass)},"mousedown touchbegin":function(){if(!$el.is(":disabled")){$target.addClass(options.activeClass)}},"mouseup touchend":function(){$target.removeClass(options.activeClass)}})}function classClearStandard($el,options){$el.removeClass(options.hoverClass+" "+options.focusClass+" "+options.activeClass)}function classUpdate($el,className,enabled){if(enabled){$el.addClass(className)}else{$el.removeClass(className)}}function classUpdateChecked($tag,$el,options){var c="checked",isChecked=$el.is(":"+c);if($el.prop){$el.prop(c,isChecked)}else{if(isChecked){$el.attr(c,c)}else{$el.removeAttr(c)}}classUpdate($tag,options.checkedClass,isChecked)}function classUpdateDisabled($tag,$el,options){classUpdate($tag,options.disabledClass,$el.is(":disabled"))}function divSpanWrap($el,$container,method){switch(method){case"after":$el.after($container);return $el.next();case"before":$el.before($container);return $el.prev();case"wrap":$el.wrap($container);return $el.parent()}return null}function divSpan($el,options,divSpanConfig){var $div,$span,id;if(!divSpanConfig){divSpanConfig={}}divSpanConfig=$.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},divSpanConfig);$div=$("<div />");$span=$("<span />");if(options.autoHide&&$el.is(":hidden")&&$el.css("display")==="none"){$div.hide()}if(divSpanConfig.divClass){$div.addClass(divSpanConfig.divClass)}if(options.wrapperClass){$div.addClass(options.wrapperClass)}if(divSpanConfig.spanClass){$span.addClass(divSpanConfig.spanClass)}id=attrOrProp($el,"id");if(options.useID&&id){attrOrProp($div,"id",options.idPrefix+"-"+id)}if(divSpanConfig.spanHtml){$span.html(divSpanConfig.spanHtml)}$div=divSpanWrap($el,$div,divSpanConfig.divWrap);$span=divSpanWrap($el,$span,divSpanConfig.spanWrap);classUpdateDisabled($div,$el,options);return{div:$div,span:$span}}function wrapWithWrapperClass($el,options){var $span;if(!options.wrapperClass){return null}$span=$("<span />").addClass(options.wrapperClass);$span=divSpanWrap($el,$span,"wrap");return $span}function highContrast(){var c,$div,el,rgb;rgb="rgb(120,2,153)";$div=$('<div style="width:0;height:0;color:'+rgb+'">');$("body").append($div);el=$div.get(0);if(window.getComputedStyle){c=window.getComputedStyle(el,"").color}else{c=(el.currentStyle||el.style||{}).color}$div.remove();return c.replace(/ /g,"")!==rgb}function htmlify(text){if(!text){return""}return $("<span />").text(text).html()}function isMsie(){return navigator.cpuClass&&!navigator.product}function isMsieSevenOrNewer(){if(typeof window.XMLHttpRequest!=="undefined"){return true}return false}function isMultiselect($el){var elSize;if($el[0].multiple){return true}elSize=attrOrProp($el,"size");if(!elSize||elSize<=1){return false}return true}function returnFalse(){return false}function noSelect($elem,options){var none="none";bindMany($elem,options,{"selectstart dragstart mousedown":returnFalse});$elem.css({MozUserSelect:none,msUserSelect:none,webkitUserSelect:none,userSelect:none})}function setFilename($el,$filenameTag,options){var filename=$el.val();if(filename===""){filename=options.fileDefaultHtml}else{filename=filename.split(/[\/\\]+/);filename=filename[filename.length-1]}$filenameTag.text(filename)}function swap($elements,newCss,callback){var restore,item;restore=[];$elements.each(function(){var name;for(name in newCss){if(Object.prototype.hasOwnProperty.call(newCss,name)){restore.push({el:this,name:name,old:this.style[name]});this.style[name]=newCss[name]}}});callback();while(restore.length){item=restore.pop();item.el.style[item.name]=item.old}}function sizingInvisible($el,callback){var targets;targets=$el.parents();targets.push($el[0]);targets=targets.not(":visible");swap(targets,{visibility:"hidden",display:"block",position:"absolute"},callback)}function unwrapUnwrapUnbindFunction($el,options){return function(){$el.unwrap().unwrap().unbind(options.eventNamespace)}}var allowStyling=true,highContrastTest=false,uniformHandlers=[{match:function($el){return $el.is("a, button, :submit, :reset, input[type='button']")},apply:function($el,options){var $div,defaultSpanHtml,ds,getHtml,doingClickEvent;defaultSpanHtml=options.submitDefaultHtml;if($el.is(":reset")){defaultSpanHtml=options.resetDefaultHtml}if($el.is("a, button")){getHtml=function(){return $el.html()||defaultSpanHtml}}else{getHtml=function(){return htmlify(attrOrProp($el,"value"))||defaultSpanHtml}}ds=divSpan($el,options,{divClass:options.buttonClass,spanHtml:getHtml()});$div=ds.div;bindUi($el,$div,options);doingClickEvent=false;bindMany($div,options,{"click touchend":function(){var ev,res,target,href;if(doingClickEvent){return}if($el.is(":disabled")){return}doingClickEvent=true;if($el[0].dispatchEvent){ev=document.createEvent("MouseEvents");ev.initEvent("click",true,true);res=$el[0].dispatchEvent(ev);if($el.is("a")&&res){target=attrOrProp($el,"target");href=attrOrProp($el,"href");if(!target||target==="_self"){document.location.href=href}else{window.open(href,target)}}}else{$el.click()}doingClickEvent=false}});noSelect($div,options);return{remove:function(){$div.after($el);$div.remove();$el.unbind(options.eventNamespace);return $el},update:function(){classClearStandard($div,options);classUpdateDisabled($div,$el,options);$el.detach();ds.span.html(getHtml()).append($el)}}}},{match:function($el){return $el.is(":checkbox")},apply:function($el,options){var ds,$div,$span;ds=divSpan($el,options,{divClass:options.checkboxClass});$div=ds.div;$span=ds.span;bindUi($el,$div,options);bindMany($el,options,{"click touchend":function(){classUpdateChecked($span,$el,options)}});classUpdateChecked($span,$el,options);return{remove:unwrapUnwrapUnbindFunction($el,options),update:function(){classClearStandard($div,options);$span.removeClass(options.checkedClass);classUpdateChecked($span,$el,options);classUpdateDisabled($div,$el,options)}}}},{match:function($el){return $el.is(":file")},apply:function($el,options){var ds,$div,$filename,$button;ds=divSpan($el,options,{divClass:options.fileClass,spanClass:options.fileButtonClass,spanHtml:options.fileButtonHtml,spanWrap:"after"});$div=ds.div;$button=ds.span;$filename=$("<span />").html(options.fileDefaultHtml);$filename.addClass(options.filenameClass);$filename=divSpanWrap($el,$filename,"after");if(!attrOrProp($el,"size")){attrOrProp($el,"size",$div.width()/10)}function filenameUpdate(){setFilename($el,$filename,options)}bindUi($el,$div,options);filenameUpdate();if(isMsie()){bindMany($el,options,{click:function(){$el.trigger("change");setTimeout(filenameUpdate,0)}})}else{bindMany($el,options,{change:filenameUpdate})}noSelect($filename,options);noSelect($button,options);return{remove:function(){$filename.remove();$button.remove();return $el.unwrap().unbind(options.eventNamespace)},update:function(){classClearStandard($div,options);setFilename($el,$filename,options);classUpdateDisabled($div,$el,options)}}}},{match:function($el){if($el.is("input")){var t=(" "+attrOrProp($el,"type")+" ").toLowerCase(),allowed=" color date datetime datetime-local email month number password search tel text time url week ";return allowed.indexOf(t)>=0}return false},apply:function($el,options){var elType,$wrapper;elType=attrOrProp($el,"type");$el.addClass(options.inputClass);$wrapper=wrapWithWrapperClass($el,options);bindUi($el,$el,options);if(options.inputAddTypeAsClass){$el.addClass(elType)}return{remove:function(){$el.removeClass(options.inputClass);if(options.inputAddTypeAsClass){$el.removeClass(elType)}if($wrapper){$el.unwrap()}},update:returnFalse}}},{match:function($el){return $el.is(":radio")},apply:function($el,options){var ds,$div,$span;ds=divSpan($el,options,{divClass:options.radioClass});$div=ds.div;$span=ds.span;bindUi($el,$div,options);bindMany($el,options,{"click touchend":function(){$.uniform.update($(':radio[name="'+attrOrProp($el,"name")+'"]'))}});classUpdateChecked($span,$el,options);return{remove:unwrapUnwrapUnbindFunction($el,options),update:function(){classClearStandard($div,options);classUpdateChecked($span,$el,options);classUpdateDisabled($div,$el,options)}}}},{match:function($el){if($el.is("select")&&!isMultiselect($el)){return true}return false},apply:function($el,options){var ds,$div,$span,origElemWidth;if(options.selectAutoWidth){sizingInvisible($el,function(){origElemWidth=$el.width()})}ds=divSpan($el,options,{divClass:options.selectClass,spanHtml:($el.find(":selected:first")||$el.find("option:first")).html(),spanWrap:"before"});$div=ds.div;$span=ds.span;if(options.selectAutoWidth){sizingInvisible($el,function(){swap($([$span[0],$div[0]]),{display:"block"},function(){var spanPad;spanPad=$span.outerWidth()-$span.width();$div.width(origElemWidth+spanPad);$span.width(origElemWidth)})})}else{$div.addClass("fixedWidth")}bindUi($el,$div,options);bindMany($el,options,{change:function(){$span.html($el.find(":selected").html());$div.removeClass(options.activeClass)},"click touchend":function(){var selHtml=$el.find(":selected").html();if($span.html()!==selHtml){$el.trigger("change")}},keyup:function(){$span.html($el.find(":selected").html())}});noSelect($span,options);return{remove:function(){$span.remove();$el.unwrap().unbind(options.eventNamespace);return $el},update:function(){if(options.selectAutoWidth){$.uniform.restore($el);$el.uniform(options)}else{classClearStandard($div,options);$span.html($el.find(":selected").html());classUpdateDisabled($div,$el,options)}}}}},{match:function($el){if($el.is("select")&&isMultiselect($el)){return true}return false},apply:function($el,options){var $wrapper;$el.addClass(options.selectMultiClass);$wrapper=wrapWithWrapperClass($el,options);bindUi($el,$el,options);return{remove:function(){$el.removeClass(options.selectMultiClass);if($wrapper){$el.unwrap()}},update:returnFalse}}},{match:function($el){return $el.is("textarea")},apply:function($el,options){var $wrapper;$el.addClass(options.textareaClass);$wrapper=wrapWithWrapperClass($el,options);bindUi($el,$el,options);return{remove:function(){$el.removeClass(options.textareaClass);if($wrapper){$el.unwrap()}},update:returnFalse}}}];if(isMsie()&&!isMsieSevenOrNewer()){allowStyling=false}$.uniform={defaults:{activeClass:"active",autoHide:true,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"Choose File",fileClass:"uploader",fileDefaultHtml:"No file selected",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",inputAddTypeAsClass:true,inputClass:"uniform-input",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:false,selectAutoWidth:true,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:true,wrapperClass:null},elements:[]};$.fn.uniform=function(options){var el=this;options=$.extend({},$.uniform.defaults,options);if(!highContrastTest){highContrastTest=true;if(highContrast()){allowStyling=false}}if(!allowStyling){return this}if(options.resetSelector){$(options.resetSelector).mouseup(function(){window.setTimeout(function(){$.uniform.update(el)},10)})}return this.each(function(){var $el=$(this),i,handler,callbacks;if($el.data("uniformed")){$.uniform.update($el);return}for(i=0;i<uniformHandlers.length;i=i+1){handler=uniformHandlers[i];if(handler.match($el,options)){callbacks=handler.apply($el,options);$el.data("uniformed",callbacks);$.uniform.elements.push($el.get(0));return}}})};$.uniform.restore=$.fn.uniform.restore=function(elem){if(elem===undef){elem=$.uniform.elements}$(elem).each(function(){var $el=$(this),index,elementData;elementData=$el.data("uniformed");if(!elementData){return}elementData.remove();index=$.inArray(this,$.uniform.elements);if(index>=0){$.uniform.elements.splice(index,1)}$el.removeData("uniformed")})};$.uniform.update=$.fn.uniform.update=function(elem){if(elem===undef){elem=$.uniform.elements}$(elem).each(function(){var $el=$(this),elementData;elementData=$el.data("uniformed");if(!elementData){return}elementData.update($el,elementData.options)})}}(jQuery)});define("lib/vendor/jquery-cookie/jquery-cookie",[],function(require,exports,module){!function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(e){var a=/\+/g;function d(g){return g}function b(g){return decodeURIComponent(g.replace(a," "))}function f(g){if(g.indexOf('"')===0){g=g.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{return c.json?JSON.parse(g):g}catch(h){}}var c=e.cookie=function(p,o,u){if(o!==undefined){u=e.extend({},c.defaults,u);if(typeof u.expires==="number"){var q=u.expires,s=u.expires=new Date;s.setDate(s.getDate()+q)}o=c.json?JSON.stringify(o):String(o);return document.cookie=[c.raw?p:encodeURIComponent(p),"=",c.raw?o:encodeURIComponent(o),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join("")}var g=c.raw?d:b;var r=document.cookie.split("; ");var v=p?undefined:{};for(var n=0,k=r.length;n<k;n++){var m=r[n].split("=");var h=g(m.shift());var j=g(m.join("="));if(p&&p===h){v=f(j);break}if(!p){v[h]=f(j)}}return v};c.defaults={};e.removeCookie=function(h,g){if(e.cookie(h)!==undefined){e.cookie(h,"",e.extend({},g,{expires:-1}));return true}return false}})});define("lib/vendor/jquery-json/2.4/jquery-json",[],function(require,exports,module){!function($){var escape=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},hasOwn=Object.prototype.hasOwnProperty;$.toJSON=typeof JSON==="object"&&JSON.stringify?JSON.stringify:function(o){if(o===null){return"null"}var pairs,k,name,val,type=$.type(o);if(type==="undefined"){return undefined}if(type==="number"||type==="boolean"){return String(o)}if(type==="string"){return $.quoteString(o)}if(typeof o.toJSON==="function"){return $.toJSON(o.toJSON())}if(type==="date"){var month=o.getUTCMonth()+1,day=o.getUTCDate(),year=o.getUTCFullYear(),hours=o.getUTCHours(),minutes=o.getUTCMinutes(),seconds=o.getUTCSeconds(),milli=o.getUTCMilliseconds();if(month<10){month="0"+month}if(day<10){day="0"+day}if(hours<10){hours="0"+hours}if(minutes<10){minutes="0"+minutes}if(seconds<10){seconds="0"+seconds}if(milli<100){milli="0"+milli}if(milli<10){milli="0"+milli}return'"'+year+"-"+month+"-"+day+"T"+hours+":"+minutes+":"+seconds+"."+milli+'Z"'}pairs=[];if($.isArray(o)){for(k=0;k<o.length;k++){pairs.push($.toJSON(o[k])||"null")}return"["+pairs.join(",")+"]"}if(typeof o==="object"){for(k in o){if(hasOwn.call(o,k)){type=typeof k;if(type==="number"){name='"'+k+'"'}else{if(type==="string"){name=$.quoteString(k)}else{continue}}type=typeof o[k];if(type!=="function"&&type!=="undefined"){val=$.toJSON(o[k]);pairs.push(name+":"+val)}}}return"{"+pairs.join(",")+"}"}};$.evalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(str){return eval("("+str+")")};$.secureEvalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(str){var filtered=str.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered)){return eval("("+str+")")}throw new SyntaxError("Error parsing JSON, source is not valid.")};$.quoteString=function(str){if(str.match(escape)){return'"'+str.replace(escape,function(a){var c=meta[a];if(typeof c==="string"){return c}c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"'}return'"'+str+'"'}}(jQuery)});define("lib/vendor/moment/moment",[],function(require,exports,module){!function(e){function O(e,t){return function(n){return j(e.call(this,n),t)}}function M(e){return function(t){return this.lang().ordinal(e.call(this,t))}}function _(){}function D(e){H(this,e)}function P(e){var t=this._data={},n=e.years||e.year||e.y||0,r=e.months||e.month||e.M||0,i=e.weeks||e.week||e.w||0,s=e.days||e.day||e.d||0,o=e.hours||e.hour||e.h||0,u=e.minutes||e.minute||e.m||0,a=e.seconds||e.second||e.s||0,f=e.milliseconds||e.millisecond||e.ms||0;this._milliseconds=f+a*1e3+u*6e4+o*36e5,this._days=s+i*7,this._months=r+n*12,t.milliseconds=f%1e3,a+=B(f/1e3),t.seconds=a%60,u+=B(a/60),t.minutes=u%60,o+=B(u/60),t.hours=o%24,s+=B(o/24),s+=i*7,t.days=s%30,r+=B(s/30),t.months=r%12,n+=B(r/12),t.years=n}function H(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function B(e){return e<0?Math.ceil(e):Math.floor(e)}function j(e,t){var n=e+"";while(n.length<t)n="0"+n;return n}function F(e,t,n){var r=t._milliseconds,i=t._days,s=t._months,o;r&&e._d.setTime(+e+r*n),i&&e.date(e.date()+i*n),s&&(o=e.date(),e.date(1).month(e.month()+s*n).date(Math.min(o,e.daysInMonth())))}function I(e){return Object.prototype.toString.call(e)==="[object Array]"}function q(e,t){var n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),i=0,s;for(s=0;s<n;s++)~~e[s]!==~~t[s]&&i++;return i+r}function R(e,t){return t.abbr=e,s[e]||(s[e]=new _),s[e].set(t),s[e]}function U(e){return e?(!s[e]&&o&&require("./lang/"+e),s[e]):t.fn._lang}function z(e){return e.match(/\[.*\]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function W(e){var t=e.match(a),n,r;for(n=0,r=t.length;n<r;n++)A[t[n]]?t[n]=A[t[n]]:t[n]=z(t[n]);return function(i){var s="";for(n=0;n<r;n++)s+=typeof t[n].call=="function"?t[n].call(i,e):t[n];return s}}function X(e,t){function r(t){return e.lang().longDateFormat(t)||t}var n=5;while(n--&&f.test(t))t=t.replace(f,r);return C[t]||(C[t]=W(t)),C[t](e)}function V(e){switch(e){case"DDDD":return p;case"YYYY":return d;case"YYYYY":return v;case"S":case"SS":case"SSS":case"DDD":return h;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return m;case"X":return b;case"Z":case"ZZ":return g;case"T":return y;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return c;default:return new RegExp(e.replace("\\",""))}}function $(e,t,n){var r,i,s=n._a;switch(e){case"M":case"MM":s[1]=t==null?0:~~t-1;break;case"MMM":case"MMMM":r=U(n._l).monthsParse(t),r!=null?s[1]=r:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":t!=null&&(s[2]=~~t);break;case"YY":s[0]=~~t+(~~t>68?1900:2e3);break;case"YYYY":case"YYYYY":s[0]=~~t;break;case"a":case"A":n._isPm=(t+"").toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":s[3]=~~t;break;case"m":case"mm":s[4]=~~t;break;case"s":case"ss":s[5]=~~t;break;case"S":case"SS":case"SSS":s[6]=~~(("0."+t)*1e3);break;case"X":n._d=new Date(parseFloat(t)*1e3);break;case"Z":case"ZZ":n._useUTC=!0,r=(t+"").match(x),r&&r[1]&&(n._tzh=~~r[1]),r&&r[2]&&(n._tzm=~~r[2]),r&&r[0]==="+"&&(n._tzh=-n._tzh,n._tzm=-n._tzm)}t==null&&(n._isValid=!1)}function J(e){var t,n,r=[];if(e._d)return;for(t=0;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];r[3]+=e._tzh||0,r[4]+=e._tzm||0,n=new Date(0),e._useUTC?(n.setUTCFullYear(r[0],r[1],r[2]),n.setUTCHours(r[3],r[4],r[5],r[6])):(n.setFullYear(r[0],r[1],r[2]),n.setHours(r[3],r[4],r[5],r[6])),e._d=n}function K(e){var t=e._f.match(a),n=e._i,r,i;e._a=[];for(r=0;r<t.length;r++)i=(V(t[r]).exec(n)||[])[0],i&&(n=n.slice(n.indexOf(i)+i.length)),A[t[r]]&&$(t[r],i,e);e._isPm&&e._a[3]<12&&(e._a[3]+=12),e._isPm===!1&&e._a[3]===12&&(e._a[3]=0),J(e)}function Q(e){var t,n,r,i=99,s,o,u;while(e._f.length){t=H({},e),t._f=e._f.pop(),K(t),n=new D(t);if(n.isValid()){r=n;break}u=q(t._a,n.toArray()),u<i&&(i=u,r=n)}H(e,r)}function G(e){var t,n=e._i;if(w.exec(n)){e._f="YYYY-MM-DDT";for(t=0;t<4;t++)if(S[t][1].exec(n)){e._f+=S[t][0];break}g.exec(n)&&(e._f+=" Z"),K(e)}else e._d=new Date(n)}function Y(t){var n=t._i,r=u.exec(n);n===e?t._d=new Date:r?t._d=new Date(+r[1]):typeof n=="string"?G(t):I(n)?(t._a=n.slice(0),J(t)):t._d=n instanceof Date?new Date(+n):new Date(n)}function Z(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function et(e,t,n){var i=r(Math.abs(e)/1e3),s=r(i/60),o=r(s/60),u=r(o/24),a=r(u/365),f=i<45&&["s",i]||s===1&&["m"]||s<45&&["mm",s]||o===1&&["h"]||o<22&&["hh",o]||u===1&&["d"]||u<=25&&["dd",u]||u<=45&&["M"]||u<345&&["MM",r(u/30)]||a===1&&["y"]||["yy",a];return f[2]=t,f[3]=e>0,f[4]=n,Z.apply({},f)}function tt(e,n,r){var i=r-n,s=r-e.day();return s>i&&(s-=7),s<i-7&&(s+=7),Math.ceil(t(e).add("d",s).dayOfYear()/7)}function nt(e){var n=e._i,r=e._f;return n===null||n===""?null:(typeof n=="string"&&(e._i=n=U().preparse(n)),t.isMoment(n)?(e=H({},n),e._d=new Date(+n._d)):r?I(r)?Q(e):K(e):Y(e),new D(e))}function rt(e,n){t.fn[e]=t.fn[e+"s"]=function(e){var t=this._isUTC?"UTC":"";return e!=null?(this._d["set"+t+n](e),this):this._d["get"+t+n]()}}function it(e){t.duration.fn[e]=function(){return this._data[e]}}function st(e,n){t.duration.fn["as"+e]=function(){return+this/n}}var t,n="2.0.0",r=Math.round,i,s={},o=typeof module!="undefined"&&module.exports,u=/^\/?Date\((\-?\d+)/i,a=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,f=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,l=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,c=/\d\d?/,h=/\d{1,3}/,p=/\d{3}/,d=/\d{1,4}/,v=/[+\-]?\d{1,6}/,m=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,g=/Z|[\+\-]\d\d:?\d\d/i,y=/T/i,b=/[\+\-]?\d+(\.\d{1,3})?/,w=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,E="YYYY-MM-DDTHH:mm:ssZ",S=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],x=/([\+\-]|\d\d)/gi,T="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),N={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},C={},k="DDD w W M D d".split(" "),L="M D H h m s w W".split(" "),A={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return j(this.year()%100,2)},YYYY:function(){return j(this.year(),4)},YYYYY:function(){return j(this.year(),5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return j(~~(this.milliseconds()/10),2)},SSS:function(){return j(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+j(~~(e/60),2)+":"+j(~~e%60,2)},ZZ:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+j(~~(10*e/6),4)},X:function(){return this.unix()}};while(k.length)i=k.pop(),A[i+"o"]=M(A[i]);while(L.length)i=L.pop(),A[i+i]=O(A[i],2);A.DDDD=O(A.DDD,3),_.prototype={set:function(e){var t,n;for(n in e)t=e[n],typeof t=="function"?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var n,r,i,s;this._monthsParse||(this._monthsParse=[]);for(n=0;n<12;n++){this._monthsParse[n]||(r=t([2e3,n]),i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i"));if(this._monthsParse[n].test(e))return n}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return typeof n=="function"?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var i=this._relativeTime[n];return typeof i=="function"?i(e,t,n,r):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return typeof n=="function"?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return tt(e,this._week.dow,this._week.doy)},_week:{dow:0,doy:6}},t=function(e,t,n){return nt({_i:e,_f:t,_l:n,_isUTC:!1})},t.utc=function(e,t,n){return nt({_useUTC:!0,_isUTC:!0,_l:n,_i:e,_f:t})},t.unix=function(e){return t(e*1e3)},t.duration=function(e,n){var r=t.isDuration(e),i=typeof e=="number",s=r?e._data:i?{}:e,o;return i&&(n?s[n]=e:s.milliseconds=e),o=new P(s),r&&e.hasOwnProperty("_lang")&&(o._lang=e._lang),o},t.version=n,t.defaultFormat=E,t.lang=function(e,n){var r;if(!e)return t.fn._lang._abbr;n?R(e,n):s[e]||U(e),t.duration.fn._lang=t.fn._lang=U(e)},t.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),U(e)},t.isMoment=function(e){return e instanceof D},t.isDuration=function(e){return e instanceof P},t.fn=D.prototype={clone:function(){return t(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return t.utc(this).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return this._isValid==null&&(this._a?this._isValid=!q(this._a,(this._isUTC?t.utc(this._a):t(this._a)).toArray()):this._isValid=!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(e){var n=X(this,e||t.defaultFormat);return this.lang().postformat(n)},add:function(e,n){var r;return typeof e=="string"?r=t.duration(+n,e):r=t.duration(e,n),F(this,r,1),this},subtract:function(e,n){var r;return typeof e=="string"?r=t.duration(+n,e):r=t.duration(e,n),F(this,r,-1),this},diff:function(e,n,r){var i=this._isUTC?t(e).utc():t(e).local(),s=(this.zone()-i.zone())*6e4,o,u;return n&&(n=n.replace(/s$/,"")),n==="year"||n==="month"?(o=(this.daysInMonth()+i.daysInMonth())*432e5,u=(this.year()-i.year())*12+(this.month()-i.month()),u+=(this-t(this).startOf("month")-(i-t(i).startOf("month")))/o,n==="year"&&(u/=12)):(o=this-i-s,u=n==="second"?o/1e3:n==="minute"?o/6e4:n==="hour"?o/36e5:n==="day"?o/864e5:n==="week"?o/6048e5:o),r?u:B(u)},from:function(e,n){return t.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!n)},fromNow:function(e){return this.from(t(),e)},calendar:function(){var e=this.diff(t().startOf("day"),"days",!0),n=e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){var e=this.year();return e%4===0&&e%100!==0||e%400===0},isDST:function(){return this.zone()<t([this.year()]).zone()||this.zone()<t([this.year(),5]).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e==null?t:this.add({d:e-t})},startOf:function(e){e=e.replace(/s$/,"");switch(e){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return e==="week"&&this.day(0),this},endOf:function(e){return this.startOf(e).add(e.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(e,n){return n=typeof n!="undefined"?n:"millisecond",+this.clone().startOf(n)>+t(e).startOf(n)},isBefore:function(e,n){return n=typeof n!="undefined"?n:"millisecond",+this.clone().startOf(n)<+t(e).startOf(n)},isSame:function(e,n){return n=typeof n!="undefined"?n:"millisecond",+this.clone().startOf(n)===+t(e).startOf(n)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return t.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(e){var n=r((t(this).startOf("day")-t(this).startOf("year"))/864e5)+1;return e==null?n:this.add("d",e-n)},isoWeek:function(e){var t=tt(this,1,4);return e==null?t:this.add("d",(e-t)*7)},week:function(e){var t=this.lang().week(this);return e==null?t:this.add("d",(e-t)*7)},lang:function(t){return t===e?this._lang:(this._lang=U(t),this)}};for(i=0;i<T.length;i++)rt(T[i].toLowerCase().replace(/s$/,""),T[i]);rt("year","FullYear"),t.fn.days=t.fn.day,t.fn.weeks=t.fn.week,t.fn.isoWeeks=t.fn.isoWeek,t.duration.fn=P.prototype={weeks:function(){return B(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months*2592e6},humanize:function(e){var t=+this,n=et(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},lang:t.fn.lang};for(i in N)N.hasOwnProperty(i)&&(st(i,N[i]),it(i.toLowerCase()));
st("Weeks",6048e5),t.lang("en",{ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}}),o&&(module.exports=t),typeof ender=="undefined"&&(this.moment=t),typeof define=="function"&&define.amd&&define("moment",[],function(){return t})}.call(this)});define("lib/com/form",[],function(require,exports,module){var g=window;function Form(selector,options){this.container=selector instanceof jQuery?selector:$(selector);this.options={isAjaxRequest:true,submitButton:this.container.find(".btn[type='submit']")};this.init=function(){var that=this;var $btn_submit;$.extend(true,this.options,options);if(!(this.options.submitButton instanceof jQuery)){this.options.submitButton=$(selector+" "+this.options.submitButton)}$btn_submit=this.options.submitButton;$btn_submit.data("text",$btn_submit.text());$btn_submit.click(function(){$(this).addClass("disabled");if(!that.container.valid()){that.complete();return}that.submit()});this.initValidationRules();return this};this.reset=function(){this.container.find("input[type='text'],input[type='hidden'],input[type='file'],textarea").val("");this.container.find(".help-block").each(function(){var tip=$(this).data("tip");if(tip){$(this).text(tip).addClass("tip")}else{$(this).text("")}});return this};this.val=function(data){var $elements;function getValue(name){if(data[name]){return data[name]}var name_split=name.split(".");if($.isPlainObject(data[name_split[0]])){return data[name_split[0]][name_split[1]]}return null}$elements=this.container.find("input,textarea,select");$elements.each(function(index){var $that=$(this);var name=$that.attr("name");if(!name)return;var value=getValue(name);if(value===null)return;if($that.is("select")){$that.find("option[value='"+value+"']").prop("selected",true)}else if($that.attr("type")==="radio"){$that.prop("checked",$that.val()===value.toString());$.uniform.update($that)}else if($that.attr("type")==="checkbox"){var checked=false;if($.isArray(value)){for(var i=0;i<value.length;i++){if($that.val()===value[i].toString()){checked=true}}}else{checked=$that.val()===value.toString()}$that.prop("checked",checked);$.uniform.update($that)}else{$that.val(value)}})};this.initValidationRules=function(){if(!this.container.validate){return false}var that=this;var _options={errorElement:"span",errorClass:"help-block",focusInvalid:true,ignore:"",rules:{},invalidHandler:function(event,validator){},highlight:function(element){},unhighlight:function(element){},success:function(label){label.closest(".form-group").removeClass("has-error")},submitHandler:function(form){that.submit();return false}};$.extend(_options,this.options.validate);this.container.validate(_options);return this};this.submit=function(){var that=this;var valid=true;var data=that.container.serializeArray();var handleSubmit=this.options.submitModelEvent;var handleSubmitParams=this.options.submitModelParams;var handleDataFormat=this.options.submitDataFormat;if($.isFunction(handleDataFormat)){data=handleDataFormat(data,that.container)}var handleSubmitError=this.options.submitError;var handleSubmitSuccess=this.options.submitSuccess;var submitParams=[data,function(resp,valid){that.complete();if(!valid){if($.isFunction(handleSubmitError)){handleSubmitError(resp,valid)}return}if($.isFunction(handleSubmitSuccess)){handleSubmitSuccess(resp,valid)}}];if($.isFunction(that.options.validate.custom)){valid=that.options.validate.custom(data,that.container)}if(!$.isFunction(handleSubmit)){$p.log("submitModelEvent is undefined");return false}if(valid){if(handleSubmitParams){submitParams=handleSubmitParams.apply(this,submitParams)}handleSubmit.apply(this,submitParams)}else{that.complete()}if(this.options.isAjaxRequest){return false}return this};this.getFormData=function(){var data=this.container.serializeArray();var handleDataFormat=this.options.submitDataFormat;if($.isFunction(handleDataFormat)){data=handleDataFormat(data,this.container)}return data};this.validate=function(eventName){var valid=this.container.valid();if(!valid){return false}if($.isFunction(this.options.validate.custom)){var data=this.container.serializeArray();var handleDataFormat=this.options.submitDataFormat;if($.isFunction(handleDataFormat)){data=handleDataFormat(data,this.container)}valid=this.options.validate.custom(data,this.container)}return valid};this.complete=function(data,valid){var $btn_submit=this.options.submitButton;$btn_submit.removeClass("disabled");$btn_submit.removeAttr("disabled");$btn_submit.data("disabled",false);return this}}g[PagurianAlias].form=function(selector,options){return new Form(selector,options).init()}});define("lib/com/alert",[],function(require,exports,module){var g=window;var types=["success","info","error","warn"];function Alert(){var timer;this.show=function(message,type){var className=type||"success";var $headerMessage=$(".global-message").length>0?$(".global-message").html(message).removeClass().addClass("global-message "+className):$('<div class="global-message '+className+'">'+message+"</div>");var visibleModal=false;$(".modal").each(function(){if($(this).hasClass("in")){$(this).find(".modal-message").html('<div class="global-message '+className+'">'+message+"</div>");visibleModal=true}});if(visibleModal){return this}$("body").append($headerMessage);$headerMessage.css({"margin-left":"-"+$headerMessage.outerWidth()/2+"px"});clearTimeout(timer);timer=setTimeout(function(){$headerMessage.remove()},3e3);return this}}g[PagurianAlias].alert=function(message,type){return(new Alert).show(message,type)};$.each(types,function(index,type){g[PagurianAlias].alert[type]=function(message){g[PagurianAlias].alert(message,type)}})});define("lib/com/dialog",[],function(require,exports,module){var g=window;var template=require("lib/tpl/dialog.tpl");function Dialog(){var timer;var _id="_"+(Math.random()*1e18).toString(36).slice(0,5).toUpperCase();function resetForm(form){var form_element_list=form.find("input,textarea");form_element_list.each(function(){if($(this).attr("type")==="text"||$(this).attr("type")==="hidden"||$(this).get(0).tagName==="TEXTAREA"){$(this).val("")}});form.find(".help-block").each(function(){var tip=$(this).data("tip");if(tip){$(this).text(tip).addClass("tip")}else{$(this).text("")}})}this.language={zh_CN:{title:"提示信息",btn_submit:"确定",btn_cancel:"取消",body:"你好，我是一个模式对话框。"},en_US:{title:"Title",btn_submit:"Confirm",btn_cancel:"Cancel",body:"Hello, I am a dialog ."}};this.init=function(selector,options){var modal=this;this.id=_id;options.id=_id;this.tpl=$p.tpl(template,$.extend(this.language[$p.language||"zh_CN"],options));$("body").append(this.tpl);var form=$("#modal"+_id+" form");if(selector){$(document).delegate(selector,"click",function(){var params=$(this).data("params");modal.params=eval("("+params+")")||{};modal.show();if($.isFunction(options.initForm)){options.initForm(modal,form,modal.params)}});if($.isFunction(options.preload)){options.preload(modal)}}this.container=$("#modal"+_id);this.container.addClass(options.className);this.submitButton=$("#btn_submit"+_id).click(function(){var data=form.serializeArray()||[];if(form.length&&$.isFunction(form.valid)&&!form.valid()){return false}if(form.length&&typeof $.isFunction(options.validate)&&!options.validate(modal,data,modal.params)){return false}if($.isFunction(options.submit)){$(this).addClass("disabled").prop("disabled",true);$("#modal"+_id+" .submit-waiting").html('<i class="fa fa-spinner fa-spin"></i>');options.submit(modal,form.serializeArray()||[],modal.params)}});this.cancelButton=$("#btn_cancel"+_id).click(function(){if($.isFunction(options.cancel)){options.cancel(modal,modal.params)}});return this};this.complete=function(){$("#modal"+_id+" .submit-waiting").html("");$("#modal"+_id+" .btn").removeClass("disabled").removeAttr("disabled");return this};this.show=function(){resetForm($("#modal"+_id+" form"));$("#modal"+_id+" .submit-waiting").html("");$("#modal"+_id+" .modal-message").html("");$("#modal"+_id+" .btn").removeClass("disabled").removeAttr("disabled");$("#modal"+_id+" .form-group").removeClass("has-error");$("#modal"+_id).modal("show");$("#whisper"+_id).html("").show();setTimeout(function(){var modal_body=$("#modal"+_id+" .modal-body");var available_height=modal_body.height();var custom_height=114;var footer_height=50;var header_height=50;var content_height=$(window).height()-footer_height-header_height-custom_height;if(available_height>=content_height){modal_body.css("max-height",content_height)}modal_body.scrollTop(0)},200);return this};this.hide=function(){$("#modal"+_id).modal("hide");return this};this.showWhisper=function(message,type){var $whisper=$("#whisper"+_id).html(message).show();var className={info:"whisper-success",error:"whisper-error"};$whisper.removeClass().addClass("whisper "+className[type||"info"]);clearTimeout(timer);timer=setTimeout(function(){$whisper.html("").hide()},3e3);return this}}g[PagurianAlias].dialog=function(selector,options){if(arguments.length===1){return(new Dialog).init(null,arguments[0])}return(new Dialog).init(selector,options)}});define("lib/tpl/dialog.tpl",[],'<div class="modal fade" id="modal{id}">\n    <div class="modal-dialog ">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button aria-hidden="true" data-dismiss="modal" class="close" type="button"></button>\n                <h4 class="modal-title">{title}</h4>\n            </div>\n            <div class="modal-body">\n                <div class="modal-message"></div>\n                {body}\n            </div>\n            <div class="modal-footer">\n                <div id="whisper{id}" class="whisper whisper-success"></div>\n                <span class="submit-waiting"></span>\n                <button id="btn_submit{id}" class="btn btn-primary" type="button">{btn_submit}</button>\n                <button id="btn_cancel{id}" data-dismiss="modal" class="btn btn-default" type="button">{btn_cancel}</button>\n            </div>\n        </div>\n    </div>\n</div>\n');define("lib/com/select",[],function(require,exports,module){var g=window;function Select(){this.init=function(selector,options){var dataList=options.data;var elements=$(selector);elements.empty();var selected="";for(var i=0;i<dataList.length;i++){selected="";if(options.active===dataList[i].id){selected='selected="selected"'}elements.append("<option value='"+dataList[i].id+"' "+selected+">"+dataList[i].name+"</option>")}return this}}g[PagurianAlias].select=function(selector,options){return(new Select).init(selector,options)}});define("lib/com/checkboxes",[],function(require,exports,module){var g=window;function Checkboxes(selector,options){this.container=$(selector);this.init=function(){var that=this;this.container.addClass("checkbox-list "+(options.className||""));this.load(options);this.container.on("click","input[type='checkbox']",function(){var $input=$(this);var checkedItem={value:$input.val(),text:$input.data("text"),checked:$input.is(":checked")};for(var i=0;i<that.items.length;i++){if(that.items[i].value.toString()===$input.val()){that.items[i].checked=$input.is(":checked")}}if($.isFunction(options.click)){options.click(checkedItem,that.getCheckedItems())}});return this};this.load=function(data){this.items=[];this.name=data.name;this.container.empty();var item,i;for(i=0;i<data.items.length;i++){this.items.push($.extend({},data.items[i]))}for(i=0;i<this.items.length;i++){item=['<label class="checkbox-item" ><input type="checkbox"','name="'+this.name+'"','value="'+this.items[i].value+'"','data-text="'+this.items[i].text+'"'];if(this.items[i].checked){item.push("checked=checked")}if(this.items[i].disabled){item.push("disabled=true")}item.push("/> "+this.items[i].text+"</label>");this.container.append(item.join(" "))}if(jQuery().uniform){this.container.find("input[type='checkbox']").uniform()}return this};this.checkAll=function(){this.check(true);return this};this.uncheckAll=function(){this.check(false);return this};this.check=function(flag){var elements=this.container.find("input[type='checkbox']");elements.prop("checked",flag);if(jQuery().uniform){$.uniform.update(elements)}};this.getItems=function(){return this.items};this.getCheckedItems=function(){var checkedItems=[];for(var i=0;i<this.items.length;i++){if(this.items[i].checked){checkedItems.push(this.items[i])}}return checkedItems};this.destroy=function(){this.container.empty()}}g[PagurianAlias].checkboxes=function(selector,options){return new Checkboxes(selector,options).init()}});define("lib/tool/tool",[],function(require,exports,module){var g=window;g[PagurianAlias].tool={newId:function(){return"_"+(Math.random()*1e18).toString(36).slice(0,5).toUpperCase()},isArray:function(o){return Object.prototype.toString.call(o)==="[object Array]"},isObject:function(o){return Object.prototype.toString.call(o)==="[object Object]"},isNumber:function(value){return/^[0-9]+$/.test(value)},isNull:function(o){return Object.prototype.toString.call(o)==="[object Null]"},isFunction:function(o){return typeof o==="function"},isString:function(o){return Object.prototype.toString.call(o)==="[object String]"},encode:function(value){return encodeURIComponent(value)},decode:function(value){return decodeURIComponent(value)},encodeHtml:function(str){var s="";if(str.length===0)return"";s=str.replace(/&/g,"&amp;");s=s.replace(/</g,"&lt;");s=s.replace(/>/g,"&gt;");s=s.replace(/ /g,"&nbsp;");s=s.replace(/\'/g,"&#39;");s=s.replace(/\"/g,"&quot;");s=s.replace(/\n/g,"<br>");return s},decodeHtml:function(str){var s="";if(!str||str.length===0)return"";str+="";s=str.replace(/&amp;/g,"&");s=s.replace(/&lt;/g,"<");s=s.replace(/&gt;/g,">");s=s.replace(/&nbsp;/g," ");s=s.replace(/&#39;/g,"'");s=s.replace(/&quot;/g,'"');s=s.replace(/<br>/g,"\n");return s},objectToUrlParams:function(params){var str_params="",url_split="";for(var i in params){if(typeof params[i]!=="function"){if(typeof params[i]==="object"){for(var j=0;j<params[i].length;j++){str_params+=url_split+i+"="+this.encode(this.encode(params[i][j]));url_split="&"}continue}str_params+=url_split+i+"="+this.encode(this.encode(params[i]));url_split="&"}}return str_params},toDecimal:function(arg,num){if(!arg||arg==="--"){return"0.00"}try{return arg.toFixed(num||2)}catch(e){return arg}return arg},floatMul:function(arg1,arg2){if(!arg1||!arg2){return"0.00"}var m=0,s1=arg1.toString(),s2=arg2.toString();try{m+=s1.split(".")[1].length}catch(e){}try{m+=s2.split(".")[1].length}catch(e){}var n=Number(s1.replace(".",""))*Number(s2.replace(".",""))/Math.pow(10,m);return this.toDecimal(n)}}});define("lib/tool/url",[],function(require,exports,module){var g=window;g[PagurianAlias].url={getParameter:function(paramName){var searchString=window.location.search.substring(1),i,val,params=searchString.split("&");for(i=0;i<params.length;i++){val=params[i].split("=");if(val[0]===paramName){return g[PagurianAlias].tool.decode(val[1])}}return null},getReferrer:function(){return document.referrer},format:function(url){if(!url){return""}if(url.substring(0,4)!=="http"){url="http://"+url}return url},forward:function(url){setTimeout(function(){window.location.href=url},1e3);return this},reload:function(){window.location.reload();return this},convertParams:function(params){var str_params="",url_split="";for(var i in params){if(typeof params[i]!=="function"){if(typeof params[i]==="object"){for(var j=0;j<params[i].length;j++){str_params+=url_split+i+"="+encodeURIComponent(encodeURIComponent(params[i][j]));url_split="&"}continue}str_params+=url_split+i+"="+encodeURIComponent(encodeURIComponent(params[i]));url_split="&"}}return str_params},parse:function(url){var a=document.createElement("a");a.href=url;return{source:url,protocol:a.protocol.replace(":",""),host:a.hostname,port:a.port,query:a.search,params:function(){var ret={},seg=a.search.replace(/^\?/,"").split("&"),len=seg.length,i=0,s;for(;i<len;i++){if(!seg[i]){continue}s=seg[i].split("=");ret[s[0]]=s[1]}return ret}(),file:(a.pathname.match(/([^\/?#]+)$/i)||[0,""])[1],hash:a.hash.replace("#",""),path:a.pathname.replace(/^([^\/])/,"/$1"),relative:(a.href.match(/tps?:\/[^\/]+(.+)/)||[0,""])[1],segments:a.pathname.replace(/^\//,"").split("/")}}}});define("lib/tool/str",[],function(require,exports,module){var g=window;g[PagurianAlias].str={underscoreName:function(name){return name.replace(/([A-Z])/g,"_$1").toLowerCase()},camelName:function(name){return name.replace(/\-(\w)/g,function(x){return x.slice(1).toUpperCase()})},format:function(pattern){var pointer=0,i;for(i=1;i<arguments.length;i++){pattern=pattern.split("{"+pointer+"}").join(arguments[i]);pointer++}return pattern}}});define("lib/core/tpl",[],function(require,exports,module){var g=window;var FN={};var ESCAPING_MAP={"\\":"\\\\","\n":"\\n","\r":"\\r","\u2028":"\\u2028","\u2029":"\\u2029","'":"\\'"};function Tpl(){this.render=function(template,data){if(!template)return"";FN[template]=FN[template]||new Function("_","return '"+template.replace(/[\\\n\r\u2028\u2029']/g,function(escape){return ESCAPING_MAP[escape]}).replace(/\{\s*(\w+)\s*\}/g,"'+(_.$1?(_.$1+'').replace(/[&\"<>]/g,function(e){return e}):(_.$1===0?0:''))+'")+"'");return FN[template](data)}}g[PagurianAlias].tpl=function(template,data){var tpl=new Tpl;return tpl.render(template,data)}});define("lib/core/layout",[],function(require,exports,module){var isRTL=false;var isIE8=false;var isIE9=false;var isIE10=false;var sidebarWidth=225;var sidebarCollapsedWidth=35;var _getViewPort=function(){var e=window,a="inner";if(!("innerWidth"in window)){a="client";e=document.documentElement||document.body}return{width:e[a+"Width"],height:e[a+"Height"]}};var doInit=function(){if($("body").css("direction")==="rtl"){isRTL=true}isIE8=!!navigator.userAgent.match(/MSIE 8.0/);isIE9=!!navigator.userAgent.match(/MSIE 9.0/);isIE10=!!navigator.userAgent.match(/MSIE 10.0/);if(isIE10){$("html").addClass("ie10")}if(isIE10||isIE9||isIE8){$("html").addClass("ie")}};var doResponsive=function(){doSidebarAndContentHeight();doAppResizeEvent();doModalHeight()};var doResponsiveOnInit=function(){doSidebarAndContentHeight()};var doResponsiveOnResize=function(){var resize;if(isIE8){var currheight;$(window).resize(function(){if(currheight===document.documentElement.clientHeight){return}if(resize){clearTimeout(resize)}resize=setTimeout(function(){doResponsive()},50);currheight=document.documentElement.clientHeight})}else{$(window).resize(function(){if(resize){clearTimeout(resize)}resize=setTimeout(function(){doResponsive()},50)})}};var doSidebarAndContentHeight=function(){var content=$(".page-content");var sidebar=$(".page-sidebar");var sidebarMenu=$(".page-sidebar-menu");var container=$(".page-container");var body=$("body");var height;var available_height;var side_height;if(body.hasClass("page-footer-fixed")===true&&body.hasClass("page-sidebar-fixed")===false){available_height=$(window).height()-$(".footer").outerHeight();if(content.height()<available_height){content.css("min-height",available_height+"px")}}else{if($(".footer").hasClass("fixed")){$(".footer").removeClass("fixed")}if(body.hasClass("page-sidebar-fixed")){height=_calculateFixedSidebarViewportHeight()}else{available_height=$(window).height()-$(".footer").outerHeight()-$(".header").outerHeight();side_height=sidebarMenu.height();if(content.height()<available_height){if(available_height<side_height){available_height=side_height}container.css("min-height",available_height+"px")}}}};var doModalHeight=function(){var modal_body=$(".modal:visible .modal-body");if(modal_body.length<1){return}var available_height=modal_body[0].scrollHeight;var custom_height=114;var footer_height=50;var header_height=50;var content_height=$(window).height()-footer_height-header_height-custom_height;if(available_height>=content_height){modal_body.css("max-height",content_height)}else{modal_body.css("max-height","none")}};var _calculateFixedSidebarViewportHeight=function(){var sidebarHeight=$(window).height()-$(".header").height()+1;if($("body").hasClass("page-footer-fixed")){sidebarHeight=sidebarHeight-$(".footer").outerHeight()}return sidebarHeight};var doPortletTools=function(){$("body").on("click",".portlet > .portlet-title > .tools > a.remove",function(e){e.preventDefault();$(this).closest(".portlet").remove()});$("body").on("click",".portlet > .portlet-title > .tools > .collapse, .portlet .portlet-title > .tools > .expand",function(e){e.preventDefault();var el=$(this).closest(".portlet").children(".portlet-body");if($(this).hasClass("collapse")){$(this).removeClass("collapse").addClass("expand");el.slideUp(200)}else{$(this).removeClass("expand").addClass("collapse");el.slideDown(200)}})};var doUniform=function(){if(!jQuery().uniform){return}var test=$("input[type=checkbox]:not(.toggle), input[type=radio]:not(.toggle, .star)");if(test.size()>0){test.each(function(){if($(this).parents(".checker").size()===0){$(this).show();$(this).uniform()}})}};var doTooltips=function(){$(".tooltips").tooltip()};var doDropdowns=function(){$("body").on("click",".dropdown-menu.hold-on-click",function(e){e.stopPropagation()});$("[data-type='select']").on("click"," .dropdown-menu a",function(){var text=$(this).text();var icon=$(this).parents(".btn-group").find("button>i").prop("outerHTML");$(this).parents(".dropdown-menu").prev().html(text+" "+icon)})};var doDropdownHover=function(){if($.fn.dropdownHover){$('[data-hover="dropdown"]').dropdownHover()}};var doAlerts=function(){$("body").on("click",'[data-close="alert"]',function(e){$(this).parent(".alert").hide();e.preventDefault()})};var doPopovers=function(){$(".popovers").popover()};var doTabs=function(){$("body").on("shown.bs.tab",".nav.nav-tabs",function(){doSidebarAndContentHeight()});if(location.hash){var tabid=location.hash.substr(1);$('a[href="#'+tabid+'"]').parents(".tab-pane:hidden").each(function(){var tabid=$(this).attr("id");$('a[href="#'+tabid+'"]').click()});$('a[href="#'+tabid+'"]').click()}};var doFixInputPlaceholderForIE=function(){if(isIE8||isIE9){$("input[placeholder]:not(.placeholder-no-fix), textarea[placeholder]:not(.placeholder-no-fix)").each(function(){var input=$(this);if(input.val()===""&&input.attr("placeholder")!==""){input.addClass("placeholder").val(input.attr("placeholder"))}input.focus(function(){if(input.val()===input.attr("placeholder")){input.val("")}});input.blur(function(){if(input.val()===""||input.val()===input.attr("placeholder")){input.val(input.attr("placeholder"))}})})}};var doSelect2=function(){if(jQuery().select2){$(".select2me").select2({placeholder:"Select",allowClear:true})}};var doTheme=function(){var panel=$(".theme-panel");var setColor=function(color){$("#style_themes").attr("href",pagurian.path.app+"resources/css/themes-"+(color||"default")+".css");$.cookie("style_color",color)};$(".toggler",panel).click(function(){$(".toggler").hide();$(".toggler-close").show();$(".theme-panel > .theme-options").show()});$(".toggler-close",panel).click(function(){$(".toggler").show();$(".toggler-close").hide();$(".theme-panel > .theme-options").hide()});$(".theme-colors > ul > li",panel).click(function(){var color=$(this).attr("data-style");setColor(color);$("ul > li",panel).removeClass("current");$(this).addClass("current")})};var doHighlightCode=function(){if(!window.hljs){return}$("pre code").each(function(){var lines=$(this).text().split("\n").length;var $numbering=$("<ul/>").addClass("pre-numbering");$(this).addClass("has-numbering").parent().append($numbering);for(i=1;i<=lines;i++){$numbering.append($("<li/>").text(i))}});$("pre code").each(function(i,block){hljs.highlightBlock(block)})};var doAppResizeEvent=function(){for(var i=0,len=callbackQueue.length;i<len;i++){if("function"===typeof callbackQueue[i]){callbackQueue[i]()}}};var callbackQueue=[];var layout={init:function(){doInit();doResponsiveOnResize();doUniform();doResponsiveOnInit();doFixInputPlaceholderForIE();doSelect2();doPortletTools();doAlerts();doDropdowns();doDropdownHover();doTooltips();doPopovers();doTabs();doTheme();doHighlightCode()},fixContentHeight:function(){doSidebarAndContentHeight()},resize:function(callback){callbackQueue.push(callback)},initDropdownMenu:function(){var dropdown=new Dropdown("#dropdown_pro_menu");callbackQueue.push(function(){dropdown.update()});this.dropdown=dropdown;return this},activateCurrentMenu:function(){if(window.CONFIG&&CONFIG.appId){$(".page-sidebar-menu li[data-id='"+CONFIG.appId+"']").addClass("active")}},updateUniform:function(){doUniform()},custom:function(){$(".page-sidebar-menu>li>a").on("click",function(){var $li=$(this).parents("li");if($li.hasClass("open")){$li.removeClass("open");$li.find(".arrow").removeClass("open")}else{$li.addClass("open");$li.find(".arrow").addClass("open")}})}};function Dropdown(selector,options){this.windowHeight=$(window).height();this.isExpandSubMenu=0;var dom=$(selector);var header_h=60;var item_h=40;var scroll_min_h=200;var arrow_h=20;var first=dom.find(".dropdown-level-first");var second=dom.find(".dropdown-level-second");var third=dom.find(".dropdown-level-third");var first_count=first.children("ul").children("li").length;var first_h=first_count*item_h;this.initFirstHeight=function(){first.find(".dropdown-scroll-top").remove();first.find(".dropdown-scroll-bottom").remove();if(this.windowHeight-header_h<first_h){first.prepend('<a class="dropdown-scroll-top disabled"><i class="fa fa-angle-up "></i></a>');first.append('<a class="dropdown-scroll-bottom"><i class="fa fa-angle-down"></i></a>');first.css("height",this.windowHeight-header_h)}else{first.css("height",first_h)}};this.init=function(){this.level_in=1;this.level_out=1;this.level_base=0;var dropdown=this;this.initFirstHeight();dom.hover(function(){dropdown.level_base=1;first.show()},function(){first.hide();dropdown.level_base=0;if(dropdown.level_in===1&&dropdown.level_out===1){second.hide();third.hide()}});$(".dropdown-wrap").mouseenter(function(){dropdown.level_in=$(this).data("level");$(".dropdown-wrap").each(function(){var o=$(this);var level=o.data("level");if(dropdown.isExpandSubMenu===1&&level-dropdown.level_in===1){}else if(level>dropdown.level_in){o.hide()}})});$(".dropdown-wrap").mouseleave(function(){dropdown.level_out=$(this).data("level");var o=$(this);var k=setTimeout(function(){if(dropdown.level_base){return}if(dropdown.level_in===dropdown.level_out){first.hide();second.hide();third.hide();dom.find("li").removeClass("active")}clearTimeout(k)},100)});$(".dropdown-wrap").click(function(){second.hide();third.hide()});this.setDropdownScroll(first);this.hoverMenu(first,second);this.dropdownMouseWheel(first);this.dropdownMouseWheel(second);this.dropdownMouseWheel(third)};this.update=function(){this.windowHeight=$(window).height();this.initFirstHeight();this.setDropdownScroll(first);this.hoverMenu(first,second)};this.dropdownMouseWheel=function(obj){obj.unbind("mousewheel");obj.bind("mousewheel",function(event,delta){var scroll_top=obj.find(".dropdown-scroll-top");var scroll_bottom=obj.find(".dropdown-scroll-bottom");var dir=delta>0?"up":"down";if($(this).find(".dropdown-scroll-top").length===0){return}var item=$(this).children(".dropdown-menu");var t=parseInt(item.css("top"));var _l=item.children("li").length;if(dir==="up"){scroll_bottom.removeClass("disabled");if(t>=20){scroll_top.addClass("disabled");return false}t+=20;item.css("top",t)}else{scroll_top.removeClass("disabled");if(t<=$(this).height()-_l*item_h-arrow_h){scroll_bottom.addClass("disabled");return false}t-=20;item.css("top",t)}return false})};this.setDropdownScroll=function(obj){var levels=["first","second","third"];var _l=obj.children("ul").children("li").length;var dropdown=this;var timer;obj.find(".dropdown-scroll-top").unbind();obj.find(".dropdown-scroll-top").hover(function(){obj.find(".dropdown-scroll-bottom").removeClass("disabled");var scroll=$(this);hideChild(scroll);var that=$(this).next();var t=parseInt(that.css("top"));timer=setInterval(function(){if(t>=20){scroll.addClass("disabled");clearInterval(timer);return}t+=10;that.css("top",t)},30)},function(){clearInterval(timer)});obj.find(".dropdown-scroll-bottom").unbind();obj.find(".dropdown-scroll-bottom").hover(function(){obj.find(".dropdown-scroll-top").removeClass("disabled");var scroll=$(this);hideChild(scroll);var o=$(this).prev();var t=parseInt(o.css("top"));timer=setInterval(function(){if(t<=obj.height()-_l*item_h-arrow_h){scroll.addClass("disabled");clearInterval(timer);return}t-=10;o.css("top",t)},30)},function(){clearInterval(timer)});function hideChild(activeObj){var obj_dropdown=activeObj.parents(".dropdown-wrap");var level=obj_dropdown.data("level");if(level===1){second.hide();third.hide()}if(level===2){third.hide()}}};this.hoverMenu=function(obj,subObj){var dropdown=this;var timer;var level_active=0;obj.find("li").unbind("mouseenter");obj.find("li").mouseenter(function(){level_active=dropdown.level_in;obj.find("li").removeClass("active");if($(this).hasClass("dropdown-submenu")){if(timer){clearTimeout(timer)}dropdown.isExpandSubMenu=1;$(this).addClass("active");var offset=$(this).offset();var top=offset.top;var item=$(this).find(".dropdown-menu:eq(0)");var l=item.children("li").length;var total_h=item_h*l;subObj.html(item.clone());subObj.css("top",top-1);if(dropdown.windowHeight<total_h+top){if(total_h>scroll_min_h){subObj.prepend('<a class="dropdown-scroll-top disabled"><i class="fa fa-angle-up"></i></a>');subObj.append('<a class="dropdown-scroll-bottom"><i class="fa fa-angle-down"></i></a>')}var _total_h=dropdown.windowHeight-top;if(scroll_min_h>_total_h){subObj.css("height",scroll_min_h);subObj.css("top",top-(scroll_min_h-_total_h))}else{subObj.css("height",_total_h)}}else{subObj.css("height",total_h)}subObj.show();dropdown.setDropdownScroll(subObj);dropdown.hoverMenu(second,third);return}dropdown.isExpandSubMenu=0;timer=setTimeout(function(){if(level_active===2){subObj.hide();return}if(dropdown.level_in>dropdown.level_out||dropdown.isExpandSubMenu===1){return}subObj.hide()},300)})};this.init()}module.exports=layout});define("conf/locale.zh_CN",[],{get:function(key){return this[key]},success:"操作成功",error:"操作失败",undefine:"出现异常，对象不存在",exception:"出现异常，请联系管理员",timeout:"网络请求超时，请稍后重试",disable:"停用",enable:"启用",loading:"加载中"});define("conf/locale.en_US",[],{get:function(key){return this[key]},success:"Successful operation",error:"Operation failure",undefine:"Exception, object is undefined",exception:"Exception",timeout:"Timeout",disable:"Disable",enable:"Enable",loading:"Loading"});define("lib/service",["lib/core/ajax"],function(require,exports,module){var ajax=require("lib/core/ajax");var service={get:function(url,params,callback){if($.isArray(params)){var isSetLanguage=false;for(var i=0;i<params.length;i++){if(params[i].name==="locale"){params[i].value=$p.language;isSetLanguage=true}}if(!isSetLanguage){params.push({name:"locale",value:$p.language})}}else{params.locale=$p.language}this.request("get",url,params,callback)},post:function(url,params,callback){this.request("post",url,params,callback)},request:function(type,url,params,callback){validateRequest(params);ajax.request(type,url,params,function(resp){var valid=validateRespone(resp);if(typeof callback==="function"){callback(resp,valid)}})}};function validateRequest(data){return true}function validateRespone(data){if(!data){return false}switch(data.code){case"200000":return true;case"200001":$p.alert(data.message,"warning");return false;case"200002":var fields=data.fields;var element={};for(var k in fields){element=$(".help-block[for^='"+k+"']");element.removeClass("tip-block");element.html(fields[k][0].message)}return false;case"200403":$p.alert($p.locale.handle_exception,"warning");$p.url.forward(CONFIG.ctxPath()+"/"+$p.lib.api.urls.error403);return false;case"200403.11":$p.alert($p.locale.handle_exception,"warning");$p.url.forward(CONFIG.ctxPath()+"/"+$p.lib.api.urls.error403_11);return false;case"200403.13":$p.alert($p.locale.handle_exception,"warning");$p.url.forward(CONFIG.ctxPath()+"/"+$p.lib.api.urls.error403_13);return false;case"200403.17":window.location.reload();break;case"200403.18":$p.alert($p.locale.handle_exception,"warning");
$p.url.forward(CONFIG.ctxPath()+"/"+$p.lib.api.urls.error403_18);return false;case"200404":$p.alert($p.locale.handle_exception,"warning");$p.url.forward(CONFIG.ctxPath()+"/"+$p.lib.api.urls.error404);return false;case 404:$p.alert($p.locale.handle_exception,"error");return false;case"100500":$p.alert($p.locale.handle_exception,"warning");return false;case 500:$p.alert($p.locale.handle_exception,"error");return false;case 400:$p.alert($p.locale.params_error,"error");return false;case 0:if(data.result&&data.result.statusText==="timeout"){$p.alert($p.locale.handle_timeout,"error");return false}$p.alert($p.locale.handle_exception,"error");return false;default:return true}return true}service.validateRespone=validateRespone;module.exports=service});define("lib/core/ajax",[],function(require,exports,module){function arrayToObject(arr){if($.isPlainObject(arr)){return arr}var obj={},format_obj={};for(var i=0;i<arr.length;i++){if(obj[arr[i].name]){var _t=obj[arr[i].name];if(!$.isArray(obj[arr[i].name])){obj[arr[i].name]=[_t]}obj[arr[i].name].push(arr[i].value);continue}if(arr[i].type==="array"){obj[arr[i].name]=[arr[i].value];continue}obj[arr[i].name]=arr[i].value}for(var k in obj){var a=k.split(".");var _value=obj[k];if(typeof _value==="string"){_value=$.trim(_value)}if(a.length>1){if($.isArray(_value)){format_obj[a[0]]=format_obj[a[0]]||[];for(var j=0,_v;j<_value.length;j++){_v={};_v[a[1]]=_value[j];format_obj[a[0]].push(_v)}continue}format_obj[a[0]]=format_obj[a[0]]||{};format_obj[a[0]][a[1]]=_value;continue}format_obj[k]=_value}return format_obj}var ajax={bundle:true,options:{data:[]},init:function(type,params){var i;this.options.data=[];if($.isArray(params)){for(i=0;i<params.length;i++){if(type==="get"){params[i].value=encodeURIComponent(params[i].value)}this.options.data.push(params[i])}}else{for(i in params){if(typeof params[i]==="function"){continue}if($.isArray(params[i])){for(var j=0;j<params[i].length;j++){this.options.data.push({name:i,value:type==="get"?encodeURIComponent(params[i][j]):params[i][j],type:"array"})}continue}this.options.data.push({name:i,value:type==="get"?encodeURIComponent(params[i]):params[i]})}}if(type==="get"){this.options.data.push({name:"_ts",value:"_"+(Math.random()*1e18).toString(36).slice(0,5).toUpperCase()})}return this},send:function(type,url,params,callback){this.init(type,params);var data=this.options.data;var options={url:pagurian.path.api+url+(pagurian.path.apiPostfix||""),type:type||"get",dataType:"json",data:data,timeout:3e4,success:function(data,textStatus,jqXHR){if($.isFunction(callback)){callback(data,textStatus,jqXHR)}},error:function(jqXHR,textStatus,errorThrown){var data={error:true};for(var v in jqXHR){if(!$.isFunction(jqXHR[v])){data[v]=jqXHR[v]}}if($.isFunction(callback)){callback({code:jqXHR.status,result:data})}}};if(this.bundle){options.contentType="application/json";if($.inArray(type,["post","put","patch"])>-1){data=$.toJSON({data:arrayToObject(data)})}}if(type==="delete"){var split="?",p="";for(var i=0;i<data.length;i++){p+=split+data[i].name+"="+data[i].value;split="&"}if(p){options.url+=p}}options.data=data;$.ajax(options);return this},request:function(type,url,params,callback){this.send(type,url,params,callback);return this}};module.exports=ajax});define("conf/api",[],{keywords:"keywords",user:"user",succeed:"succeed",dataListData:"datalistdata",sizerData:"sizerdata",summaryData:"summaryData"});define("conf/route",[],{});
